<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>无标题文档</title>
    <script src="js/vue.js"></script>
    <script src="js/axios.js"></script>
</head>

<body>
<div id="box" style="width:800px; margin:0px auto" >
    <h3 style="text-align:center">专业信息列表</h3>
    <div style="width:780px; margin:0px auto; padding-right:20px; text-align:right; height:30px; line-height:30px">
        <a href="major_add.html">添加专业</a>
        <a href="college_list.html">查看学院列表</a>
    </div>
    <div style="width:800px; margin:0px auto; text-align:center; line-height:40px; height:40px;">
        <label>学院名称
            <select name="cname2" id="cname2">
                <option value="0" selected="selected">全部</option>
                <option value="1">计算机学院</option>
                <option value="2">商学院</option>
            </select>
        </label>
        <label style="display: inline-block; width: 200px"></label>
        <label>
            &nbsp;<input type="submit" name="btnSearch" id="btnSearch" value="查  询"/>
        </label>
    </div>
    <table width="800" border="1" >
        <tr>
            <td>专业编号</td>
            <td>专业名称</td>
            <td>学制</td>
            <td>学分</td>
            <td>删除</td>
            <td>修改</td>
        </tr>
        <tr v-for="(item,index) in arr">
            <td>{{item.mid}}</td>
            <td>{{item.mname}}</td>
            <td>{{item.LifeYear}}</td>
            <td>{{item.credit}}</td>
            <td><a href="" @click="del(index)">删除</a></td>
            <td><a href="major_modify.html">修改</a></td>
        </tr>

    </table>

</div>
</body>
<script>

    var baseUrl = "http://localhost:8081/"
    var vm = new Vue({
        el: '#box',// 指定挂载元素
        data: {//json数据
            name:'张三',
            arr:[],
            id:0
        },
        methods:{//方法
             del:function (id){
                 this.id=id;
                 console.log(id)
             }
        },
        mounted: function () {//钩子函数
            var this_ = this;
            // 挂载元素之后，通过ajax获取数据
            axios.get(baseUrl+"major/list").then(function (response) {
                console.log(response)
                this_.arr=response.data.data;
                console.log(this_.arr)
            })

        }
    })
</script>
</html>
